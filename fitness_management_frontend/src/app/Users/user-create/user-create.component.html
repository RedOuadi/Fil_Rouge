<div class="container">
  <h2>Create New User</h2>
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="nom">Nom</label>
      <input type="text" id="nom" formControlName="nom" class="form-control">
    </div>
    <div class="form-group">
      <label for="prenom">Pr√©nom</label>
      <input type="text" id="prenom" formControlName="prenom" class="form-control">
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" formControlName="email" class="form-control">
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" id="password" formControlName="password" class="form-control">
    </div>
    <div class="form-group">
      <label for="genre">Genre</label>
      <select id="genre" formControlName="genre" class="form-control">
        <option value="HOMME">Homme</option>
        <option value="FEMME">Femme</option>
      </select>
    </div>
    <div class="form-group">
      <label for="role">Role</label>
      <select id="role" formControlName="role" class="form-control">
        <option value="ROLE_UTILISATEUR">Utilisateur</option>
        <option value="ROLE_COACH">Coach</option>
      </select>
    </div>
    <div class="form-group">
      <label for="profileImage">Profile Image (optional)</label>
      <div class="file-input-wrapper">
        <input id="profileImage" type="file" accept="image/*" (change)="onFileChange($event, 'profile')">
        <span class="file-input-button">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-upload">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="17 8 12 3 7 8"></polyline>
            <line x1="12" y1="3" x2="12" y2="15"></line>
          </svg>
          Choose Profile Image
        </span>
      </div>
    </div>
    <div class="form-group">
      <label for="coverImage">Cover Image (optional)</label>
      <div class="file-input-wrapper">
        <input id="coverImage" type="file" accept="image/*" (change)="onFileChange($event, 'cover')">
        <span class="file-input-button">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-upload">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="17 8 12 3 7 8"></polyline>
            <line x1="12" y1="3" x2="12" y2="15"></line>
          </svg>
          Choose Cover Image
        </span>
      </div>
    </div>
    <button type="submit" [disabled]="userForm.invalid"  class="btn btn-primary">Create User</button>
  </form>
  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
</div>
<div *ngIf="userForm.invalid">
  <p>Form is invalid. Errors:</p>
  <ul>
    <li *ngFor="let control of userForm.controls | keyvalue">
      {{ control.key }}: {{ control.value.errors | json }}
    </li>
  </ul>
</div>
